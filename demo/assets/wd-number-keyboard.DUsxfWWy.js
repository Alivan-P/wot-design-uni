var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,d=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&r(e,a,t[a]);if(l)for(var a of l(t))s.call(t,a)&&r(e,a,t[a]);return e},n=(e,l)=>t(e,a(l));import{d as u,r as c,c as i,b as y,g as m,i as p,q as x,w as b,h as k,z as f,m as w,F as _,j as h,t as v,C as g,E as O,D as j,k as K,n as S}from"./index-Ce5NZLOi.js";import{b as T,a as I}from"./wd-loading.BQj98K7a.js";import{c as C,d as P,a as V,w as z,_ as A,b as D,m as $}from"./base64.Dvv4YswT.js";import{u as B}from"./useTouch.Nhgdyfx0.js";const M={type:V(""),text:P(""),wider:C(!1),large:C(!1),loading:C(!1)},q=A(u(n(d({},{name:"wd-key",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:M,emits:["press"],setup(e,{emit:t}){const a=e,l=t,o=B(),s=c(!1),r=i((()=>`wd-key ${a.large?"wd-key--large":""} ${"delete"===a.type?"wd-key--delete":""} ${"close"===a.type?"wd-key--close":""}`));function d(e){o.touchStart(e),s.value=!0}function n(e){o.touchMove(e),o.direction.value&&(s.value=!1)}function u(){s.value&&(s.value=!1,l("press",a.text,a.type))}return(e,t)=>{const l=p;return m(),y(l,{class:x("wd-key-wrapper "+(e.wider?"wd-key-wrapper--wider":"")),onTouchstart:d,onTouchmove:n,onTouchend:u},{default:b((()=>[k(l,{class:x(r.value)},{default:b((()=>[a.loading?(m(),y(T,{key:0,"custom-class":"wd-key__loading-icon"})):f("",!0),"delete"===e.type?(m(),w(_,{key:1},[e.text?(m(),w(_,{key:0},[h(v(e.text),1)],64)):(m(),y(z,{key:1,"custom-class":"wd-key__icon",name:"keyboard-delete",size:"22px"}))],64)):"extra"===e.type?(m(),w(_,{key:2},[e.text?(m(),w(_,{key:0},[h(v(e.text),1)],64)):(m(),y(z,{key:1,"custom-class":"wd-key__icon",name:"keyboard-collapse",size:"22px"}))],64)):(m(),w(_,{key:3},[h(v(e.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}})),[["__scopeId","data-v-82fa53f0"]]),E=n(d({},D),{visible:C(!1),modelValue:V(""),title:String,mode:V("default"),zIndex:$(100),maxlength:$(1/0),showDeleteKey:C(!0),randomKeyOrder:C(!1),closeText:String,deleteText:String,closeButtonLoading:C(!1),modal:C(!1),hideOnClickOutside:C(!0),lockScroll:C(!0),safeAreaInsetBottom:C(!0),extraKey:[String,Array]}),F=A(u(n(d({},{name:"wd-number-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:E,emits:["update:visible","input","close","delete","update:modelValue"],setup(e,{emit:t}){const a=e,l=t,o=c(a.visible);g((()=>a.visible),(e=>{o.value=e}));const s=i((()=>"custom"===a.mode?function(){const e=n(),t=Array.isArray(a.extraKey)?a.extraKey:[a.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...n(),{text:a.extraKey,type:"extra"},{text:0},{text:a.showDeleteKey?a.deleteText:"",type:a.showDeleteKey?"delete":""}])),r=i((()=>a.closeText&&"default"===a.mode)),d=i((()=>a.title||r.value));function n(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return a.randomKeyOrder?function(e){const t=[...e];for(let a=t.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[t[a],t[e]]=[t[e],t[a]]}return t}(e):e}const u=()=>{l("close"),l("update:visible",!1)},T=(e,t)=>{if(""===e&&"extra"===t)return u();const o=a.modelValue;"delete"===t?(l("delete"),l("update:modelValue",o.slice(0,o.length-1))):"close"===t?u():o.length<+a.maxlength&&(l("input",e),l("update:modelValue",o+e))};return(e,t)=>{const a=K,l=p;return m(),y(I,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,onClickModal:u},{default:b((()=>[k(l,{class:x(`wd-number-keyboard ${e.customClass}`),style:O(e.customStyle)},{default:b((()=>[d.value?(m(),y(l,{key:0,class:"wd-number-keyboard__header"},{default:b((()=>[j(e.$slots,"title",{},(()=>[k(a,{class:"wd-number-keyboard__title"},{default:b((()=>[h(v(e.title),1)])),_:1})]),!0),r.value?(m(),y(l,{key:0,class:"wd-number-keyboard__close","hover-class":"wd-number-keyboard__close--hover",onClick:u},{default:b((()=>[k(a,null,{default:b((()=>[h(v(e.closeText),1)])),_:1})])),_:1})):f("",!0)])),_:3})):f("",!0),k(l,{class:"wd-number-keyboard__body"},{default:b((()=>[k(l,{class:"wd-number-keyboard__keys"},{default:b((()=>[(m(!0),w(_,null,S(s.value,(e=>(m(),y(q,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:T},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(m(),y(l,{key:0,class:"wd-number-keyboard__sidebar"},{default:b((()=>[e.showDeleteKey?(m(),y(q,{key:0,large:"",text:e.deleteText,type:"delete",onPress:T},null,8,["text"])):f("",!0),k(q,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:T},null,8,["text","loading"])])),_:1})):f("",!0)])),_:1})])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll"])}}})),[["__scopeId","data-v-e2519f6d"]]);export{F as _};
