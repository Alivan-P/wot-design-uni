var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,r=(a,l,s)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s,o=(e,a)=>{for(var l in a||(a={}))t.call(a,l)&&r(e,l,a[l]);if(s)for(var l of s(a))u.call(a,l)&&r(e,l,a[l]);return e},d=(e,s)=>a(e,l(s));import{d as n,r as i,X as c,J as v,c as b,M as _,G as m,C as p,y as w,L as f,b as h,g as y,w as g,z as M,h as x,i as C,q as T,j,t as k,E as O,m as V,F as $,aq as L,ar as P}from"./index-Ce5NZLOi.js";import{u as F}from"./useTouch.Nhgdyfx0.js";import{m as I,a as S,c as A,b as N,_ as q}from"./base64.Dvv4YswT.js";const E=d(o({},N),{customMinClass:S(""),customMaxClass:S(""),hideMinMax:A(!1),hideLabel:A(!1),disabled:A(!1),inactiveColor:S("#e5e5e5"),activeColor:S(""),max:I(100),min:I(0),step:I(1),modelValue:{type:[Number,Array],default:0}}),G=q(n(d(o({},{name:"wd-slider",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:E,emits:["dragstart","dragmove","dragend","update:modelValue"],setup(e,{expose:a,emit:l}){const s=e,t=l,u=i(`sliderId${c()}`),r=F(),o=i(0),{proxy:d}=v(),n=i(0),I=i(0),S=b((()=>s.min)),A=b((()=>s.max)),N=b((()=>s.step<=0?(console.warn("[wot ui] warning(wd-slider): step must be greater than 0"),1):s.step)),q=i(0),E=i(W()),G=b((()=>_(E.value))),X=b((()=>A.value-S.value)),z=b((()=>G.value?E.value[0]:E.value)),D=b((()=>G.value?E.value[1]:0)),H=b((()=>`wd-slider ${s.hideLabel?"":"wd-slider__has-label"} ${s.disabled?"wd-slider--disabled":""} ${s.customClass}`)),J=b((()=>m({visibility:s.disabled?"hidden":"visible"}))),B=b((()=>{const e={};return s.inactiveColor&&(e.background=s.inactiveColor),m(e)})),K=b((()=>{const e={};if(0===X.value)return m(e);if(G.value){const[a,l]=Y(E.value);e.width=100*(l-a)/X.value+"%",e.left=100*(a-S.value)/X.value+"%"}else e.width=100*(E.value-S.value)/X.value+"%",e.left="0";return s.activeColor&&(e.background=s.activeColor),m(e)}));function Q(){return s.disabled}function R(e,a,l){return Math.min(Math.max(e,a),l)}function U(){f(`#${u.value}`,!1,d).then((e=>{n.value=Number(e.width),I.value=Number(e.left)}))}function W(){return _(s.modelValue)?Y(s.modelValue):R(s.modelValue,S.value,A.value)}function Y(e){if(!Array.isArray(e)||e.length<2)return console.warn("[wot ui] warning(wd-slider): range value should be an array with at least 2 elements"),[S.value,A.value];const a=R(e[0],S.value,A.value),l=R(e[1],S.value,A.value);return a>l?[l,a]:[a,l]}function Z(e){e=R(e,S.value,A.value);const a=Math.round((e-S.value)/N.value);return parseFloat((S.value+a*N.value).toFixed(10))}function ee(e,a){Q()||(o.value=a,r.touchStart(e),q.value=L(E.value),t("dragstart",{value:E.value}))}function ae(e){if(Q())return;r.touchMove(e);const a=r.deltaX.value/n.value*X.value;let l=L(q.value);_(l)?l[o.value]+=a:l+=a,function(e){let a=L(e);a=_(e)?Y(e).map((e=>Z(e))):Z(e),P(a,E.value)||(E.value=a)}(l),t("dragmove",{value:E.value})}function le(){Q()||t("dragend",{value:E.value})}return p((()=>s.modelValue),(e=>{P(e,E.value)||(E.value=W())}),{deep:!0}),p(E,(e=>{t("update:modelValue",e)})),w((()=>{U()})),a({initSlider:U}),(e,a)=>{const l=C;return y(),h(l,{class:T(H.value),style:O(e.customStyle),id:u.value},{default:g((()=>[e.hideMinMax?M("",!0):(y(),h(l,{key:0,class:T(`wd-slider__label-min ${e.customMinClass}`)},{default:g((()=>[j(k(S.value),1)])),_:1},8,["class"])),x(l,{class:"wd-slider__bar-wrapper",style:O(B.value)},{default:g((()=>[x(l,{class:"wd-slider__bar",style:O(K.value)},{default:g((()=>[G.value?(y(),V($,{key:0},[x(l,{class:"wd-slider__button-wrapper wd-slider__button-wrapper--left",style:O(J.value),onTouchstart:a[0]||(a[0]=e=>ee(e,0)),onTouchmove:ae,onTouchend:le,onTouchcancel:le},{default:g((()=>[e.hideLabel?M("",!0):(y(),h(l,{key:0,class:"wd-slider__label"},{default:g((()=>[j(k(z.value),1)])),_:1})),x(l,{class:"wd-slider__button"})])),_:1},8,["style"]),x(l,{class:"wd-slider__button-wrapper wd-slider__button-wrapper--right",style:O(J.value),onTouchstart:a[1]||(a[1]=e=>ee(e,1)),onTouchmove:ae,onTouchend:le,onTouchcancel:le},{default:g((()=>[e.hideLabel?M("",!0):(y(),h(l,{key:0,class:"wd-slider__label"},{default:g((()=>[j(k(D.value),1)])),_:1})),x(l,{class:"wd-slider__button"})])),_:1},8,["style"])],64)):(y(),h(l,{key:1,class:"wd-slider__button-wrapper",style:O(J.value),onTouchstart:a[2]||(a[2]=e=>ee(e,0)),onTouchmove:ae,onTouchend:le,onTouchcancel:le},{default:g((()=>[e.hideLabel?M("",!0):(y(),h(l,{key:0,class:"wd-slider__label"},{default:g((()=>[j(k(z.value),1)])),_:1})),x(l,{class:"wd-slider__button"})])),_:1},8,["style"]))])),_:1},8,["style"])])),_:1},8,["style"]),e.hideMinMax?M("",!0):(y(),h(l,{key:1,class:T(`wd-slider__label-max ${e.customMaxClass}`)},{default:g((()=>[j(k(A.value),1)])),_:1},8,["class"]))])),_:1},8,["class","style","id"])}}})),[["__scopeId","data-v-70d27742"]]);export{G as _};
